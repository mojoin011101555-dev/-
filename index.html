<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title id="pageTitle">أذكار الصباح والمساء</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        /* التنسيقات العامة */
        * {
            box-sizing: border-box;
            margin: 0;
            padding: 0;
        }
        
        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: linear-gradient(135deg, #f5f7fa 0%, #c3cfe2 100%);
            margin: 0;
            padding: 0;
            min-height: 100vh;
            color: #333;
            line-height: 1.6;
            transition: background-color 0.5s ease;
        }
        
        /* ألوان الصباح والمساء */
        .morning-bg {
            background: linear-gradient(135deg, #f5f7fa 0%, #c3cfe2 100%);
        }

        .evening-bg {
            background: linear-gradient(135deg, #a8a9ad 0%, #68748c 100%);
        }
        
        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 20px;
        }
        
        /* شريط التنقل */
        nav {
            text-align: center;
            margin-bottom: 20px;
            background-color: #ffffff;
            padding: 10px;
            border-radius: 10px;
            box-shadow: 0 4px 15px rgba(0, 0, 0, 0.05);
        }

        .nav-btn {
            background: none;
            border: none;
            padding: 10px 20px;
            margin: 0 5px;
            cursor: pointer;
            font-size: 1.1rem;
            font-weight: bold;
            color: #7f8c8d;
            border-radius: 8px;
            transition: all 0.3s ease;
        }

        .nav-btn.active-morning {
            color: white;
            background: linear-gradient(135deg, #4b6cb7 0%, #182848 100%);
            box-shadow: 0 4px 10px rgba(75, 108, 183, 0.4);
        }
        
        .nav-btn.active-evening {
            color: white;
            background: linear-gradient(135deg, #354f52 0%, #2f3e46 100%);
            box-shadow: 0 4px 10px rgba(53, 79, 82, 0.4);
        }

        .nav-btn:hover:not(.active-morning):not(.active-evening) {
            color: #4b6cb7;
            background-color: #eef1f6;
        }

        /* الرأس - Header */
        header {
            text-align: center;
            margin-bottom: 30px;
            padding: 30px;
            border-radius: 15px;
            box-shadow: 0 8px 25px rgba(0, 0, 0, 0.15);
            color: white;
            transition: all 0.5s ease;
        }

        .header-morning {
            background: linear-gradient(135deg, #6a11cb 0%, #2575fc 100%);
        }

        .header-evening {
            background: linear-gradient(135deg, #2b3a42 0%, #526673 100%);
        }
        
        h1 {
            font-size: 2.5rem;
            margin-bottom: 10px;
            text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.3);
        }
        
        .header-desc {
            font-size: 1.2rem;
            max-width: 800px;
            margin: 0 auto;
        }
        
        /* مؤقت الأذكار */
        .time-indicator {
            background-color: rgba(255, 255, 255, 0.2);
            padding: 10px 20px;
            border-radius: 10px;
            margin-top: 15px;
            display: inline-block;
            font-size: 1rem;
            backdrop-filter: blur(5px);
        }

        /* مؤشر التقدم العام */
        .general-progress-box {
            background-color: #ffffff;
            padding: 15px 25px;
            border-radius: 10px;
            box-shadow: 0 4px 15px rgba(0, 0, 0, 0.05);
            margin-bottom: 25px;
            display: flex;
            justify-content: space-between;
            align-items: center;
            flex-wrap: wrap;
            gap: 15px;
        }

        .progress-info {
            font-size: 1.1rem;
            font-weight: 600;
            color: #2c3e50;
        }

        .progress-info span {
            color: #4b6cb7; /* لون الصباح الافتراضي */
        }
        
        .evening-mode .progress-info span {
            color: #354f52; /* لون المساء */
        }

        .general-progress-bar {
            flex-grow: 1;
            height: 15px;
            background-color: #ecf0f1;
            border-radius: 8px;
            margin: 0 20px;
            overflow: hidden;
            min-width: 200px;
        }

        .general-progress {
            height: 100%;
            width: 0%;
            background: linear-gradient(90deg, #4b6cb7 0%, #182848 100%);
            border-radius: 8px;
            transition: width 0.5s ease;
        }
        
        .evening-mode .general-progress {
            background: linear-gradient(90deg, #354f52 0%, #2f3e46 100%);
        }

        /* تنسيق الأذكار */
        .adhkar-container {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(350px, 1fr));
            gap: 25px;
            margin-bottom: 40px;
        }
        
        .dhikr-card {
            background: linear-gradient(135deg, #ffffff 0%, #f8f9fa 100%);
            border-radius: 15px;
            padding: 25px;
            box-shadow: 0 6px 20px rgba(0, 0, 0, 0.1);
            transition: all 0.3s ease;
            position: relative;
            overflow: hidden;
            border-top: 5px solid #4b6cb7; /* لون الصباح الافتراضي */
        }
        
        .dhikr-card:hover {
            transform: translateY(-8px);
            box-shadow: 0 12px 25px rgba(0, 0, 0, 0.15);
        }

        .evening-mode .dhikr-card {
            border-top: 5px solid #354f52; /* لون المساء */
        }
        
        /* تنسيق الرأس الجديد لبطاقة الذكر (الرقم والأيقونات) */
        .dhikr-header {
            display: flex;
            justify-content: space-between; /* يوزع العناصر على الطرفين */
            align-items: center;
            margin-bottom: 20px;
            padding-bottom: 10px;
            border-bottom: 1px solid #eee;
        }

        .dhikr-number {
            font-size: 1.5rem;
            font-weight: 700;
            color: white;
            background: linear-gradient(135deg, #4b6cb7 0%, #182848 100%); /* لون الصباح */
            padding: 5px 15px;
            border-radius: 50px;
            min-width: 50px;
            text-align: center;
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
        }

        .evening-mode .dhikr-number {
            background: linear-gradient(135deg, #354f52 0%, #2f3e46 100%); /* لون المساء */
        }

        .action-buttons {
            display: flex;
            gap: 10px;
        }

        .action-btn, .audio-btn {
            background: none;
            border: 1px solid #ddd;
            color: #4b6cb7; /* لون الصباح */
            padding: 8px 10px;
            border-radius: 50%;
            cursor: pointer;
            font-size: 1rem;
            transition: all 0.3s ease;
            width: 40px;
            height: 40px;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .evening-mode .action-btn, .evening-mode .audio-btn {
            color: #354f52; /* لون المساء */
        }

        .action-btn:hover, .audio-btn:hover {
            background-color: #f0f0f0;
            transform: scale(1.1);
        }
        /* نهاية تنسيق رأس بطاقة الذكر */

        .dhikr-text {
            font-size: 18px;
            margin-bottom: 20px;
            color: #2c3e50;
            line-height: 1.9;
            text-align: justify;
        }
        
        .dhikr-reference {
            font-size: 14px;
            color: #7f8c8d;
            margin-bottom: 20px;
            font-style: italic;
            padding-right: 10px;
            border-right: 3px solid #4b6cb7; /* لون الصباح الافتراضي */
        }

        .evening-mode .dhikr-reference {
            border-right: 3px solid #354f52; /* لون المساء */
        }
        
        .counter {
            display: flex;
            align-items: center;
            justify-content: space-between;
            margin-top: 20px;
            padding-top: 15px;
            border-top: 1px dashed #ddd;
        }
        
        /* زر زيادة العداد الجديد - تصميم إسلامي راقي */
        .count-btn-islamic {
            background: linear-gradient(135deg, #1a5d1a 0%, #2e8b57 100%);
            color: white;
            border: none;
            width: 70px;
            height: 70px;
            border-radius: 50%;
            cursor: pointer;
            transition: all 0.4s cubic-bezier(0.175, 0.885, 0.32, 1.275);
            font-size: 24px;
            display: flex;
            align-items: center;
            justify-content: center;
            user-select: none;
            box-shadow: 
                0 6px 15px rgba(0, 0, 0, 0.2),
                inset 0 2px 4px rgba(255, 255, 255, 0.3);
            position: relative;
            overflow: hidden;
        }

        .count-btn-islamic::before {
            content: "";
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: linear-gradient(135deg, rgba(255,255,255,0.2) 0%, transparent 50%);
            border-radius: 50%;
        }

        .count-btn-islamic::after {
            content: "*";
            font-family: "Font Awesome 5 Free";
            font-weight: 900;
            font-size: 28px;
            color: #FFD700;
            text-shadow: 0 2px 4px rgba(0, 0, 0, 0.3);
            z-index: 2;
        }

        .evening-mode .count-btn-islamic {
            background: linear-gradient(135deg, #0d47a1 0%, #1976d2 100%);
        }

        .evening-mode .count-btn-islamic::after {
            color: #FFD700;
        }
        
        .count-btn-islamic:hover {
            transform: scale(1.15) rotate(5deg);
            box-shadow: 
                0 10px 25px rgba(0, 0, 0, 0.3),
                inset 0 2px 6px rgba(255, 255, 255, 0.4);
        }
        
        .count-btn-islamic:active {
            transform: scale(0.95) rotate(-2deg);
            box-shadow: 
                0 3px 8px rgba(0, 0, 0, 0.2),
                inset 0 1px 3px rgba(255, 255, 255, 0.2);
        }

        /* تأثير النبض عند الضغط */
        @keyframes pulse {
            0% { box-shadow: 0 0 0 0 rgba(46, 139, 87, 0.7); }
            70% { box-shadow: 0 0 0 15px rgba(46, 139, 87, 0); }
            100% { box-shadow: 0 0 0 0 rgba(46, 139, 87, 0); }
        }

        .count-btn-islamic.pulse {
            animation: pulse 0.6s ease;
        }

        .evening-mode .count-btn-islamic.pulse {
            animation: pulse 0.6s ease;
        }
        
        .count-display {
            font-size: 28px;
            font-weight: bold;
            color: #2c3e50;
            min-width: 60px;
            text-align: center;
            padding: 12px;
            background: linear-gradient(135deg, #f8f9fa 0%, #e9ecef 100%);
            border-radius: 12px;
            box-shadow: 
                inset 0 2px 4px rgba(0,0,0,0.1),
                0 2px 4px rgba(0,0,0,0.05);
            border: 2px solid #e9ecef;
        }
        
        .total-count {
            font-size: 18px;
            color: #7f8c8d;
            margin-right: 10px;
            font-weight: 600;
            background: #f8f9fa;
            padding: 8px 12px;
            border-radius: 8px;
            box-shadow: 0 2px 4px rgba(0,0,0,0.05);
        }

        .counter-info {
            display: flex;
            align-items: center;
            gap: 10px;
        }
        
        /* تذييل الصفحة */
        footer {
            text-align: center;
            margin-top: 40px;
            padding: 25px;
            border-radius: 15px;
            box-shadow: 0 8px 25px rgba(0, 0, 0, 0.15);
            color: white;
            transition: all 0.5s ease;
        }

        .footer-morning {
            background: linear-gradient(135deg, #6a11cb 0%, #2575fc 100%);
        }
        
        .footer-evening {
            background: linear-gradient(135deg, #2b3a42 0%, #526673 100%);
        }
        
        .footer-content {
            max-width: 800px;
            margin: 0 auto;
        }
        
        /* تأثيرات خاصة للإكمال */
        .completed {
            background: linear-gradient(135deg, #e6f7ee 0%, #b8e6b8 100%) !important;
            border-top: 5px solid #2ecc71 !important;
        }
        
        .completed .count-display {
            color: #27ae60;
        }
        
        .progress-bar {
            height: 8px;
            background-color: #ecf0f1;
            border-radius: 4px;
            margin-bottom: 15px;
            overflow: hidden;
        }
        
        .progress {
            height: 100%;
            background: linear-gradient(135deg, #4b6cb7 0%, #182848 100%); /* لون الصباح الافتراضي */
            border-radius: 4px;
            transition: width 0.5s ease;
        }

        .evening-mode .progress {
            background: linear-gradient(135deg, #354f52 0%, #2f3e46 100%); /* لون المساء */
        }

        .completed .progress {
            background: #2ecc71 !important;
        }
        
        .completed-text {
            color: #27ae60;
            font-weight: bold;
            text-align: center;
            margin-top: 15px;
            display: none; 
        }

        .completed .completed-text {
            display: block; 
        }
        
        .section-title {
            text-align: center;
            margin: 40px 0 20px;
            color: #2c3e50;
            font-size: 1.8rem;
            position: relative;
            padding-bottom: 10px;
        }
        
        .section-title::after {
            content: "";
            position: absolute;
            bottom: 0;
            left: 50%;
            transform: translateX(-50%);
            width: 100px;
            height: 4px;
            background: linear-gradient(135deg, #4b6cb7 0%, #182848 100%);
            border-radius: 2px;
        }

        .evening-mode .section-title::after {
            background: linear-gradient(135deg, #354f52 0%, #2f3e46 100%);
        }

        /* تنسيقات زر إعادة تعيين الكل */
        .reset-all-btn {
            background: #e74c3c;
            color: white;
            border: none;
            padding: 12px 25px;
            border-radius: 8px;
            cursor: pointer;
            font-size: 1.1rem;
            font-weight: bold;
            transition: background 0.3s ease;
        }

        .reset-all-btn:hover {
            background: #c0392b;
        }
        
        /* استعلامات الوسائط للتجاوب */
        @media (max-width: 768px) {
            .container {
                padding: 15px;
            }
            
            h1 {
                font-size: 2rem;
            }
            
            .header-desc {
                font-size: 1rem;
            }
            
            .adhkar-container {
                grid-template-columns: 1fr;
                gap: 20px;
            }
            
            .dhikr-card {
                padding: 20px;
            }
            
            .dhikr-text {
                font-size: 16px;
            }
            
            .general-progress-box {
                flex-direction: column;
                align-items: stretch;
            }
            
            .general-progress-bar {
                margin: 10px 0;
            }
            
            .counter {
                flex-wrap: wrap;
                gap: 10px;
            }
            
            .count-btn-islamic {
                width: 60px;
                height: 60px;
            }
            
            .count-btn-islamic::after {
                font-size: 24px;
            }
            
            .count-display {
                font-size: 24px;
                min-width: 50px;
                padding: 10px;
            }
            
            .total-count {
                font-size: 16px;
                padding: 6px 10px;
            }
            
            .nav-btn {
                padding: 8px 15px;
                font-size: 1rem;
                margin: 5px;
            }
        }
        
        @media (max-width: 480px) {
            .container {
                padding: 10px;
            }
            
            h1 {
                font-size: 1.7rem;
            }
            
            header {
                padding: 20px;
            }
            
            .dhikr-card {
                padding: 15px;
            }
            
            .dhikr-header {
                flex-direction: column;
                gap: 10px;
                align-items: flex-start;
            }
            
            .action-buttons {
                align-self: flex-end;
            }
            
            .counter {
                flex-direction: column;
                gap: 15px;
            }
            
            .counter-info {
                order: 1;
            }
            
            .count-btn-islamic {
                order: 2;
                width: 55px;
                height: 55px;
            }
            
            .count-btn-islamic::after {
                font-size: 22px;
            }
        }
        /* تنسيقات نافذة التهنئة */
    .modal {
        display: none;
        position: fixed;
        z-index: 1000;
        left: 0;
        top: 0;
        width: 100%;
        height: 100%;
        background-color: rgba(0, 0, 0, 0.6);
        backdrop-filter: blur(5px);
        animation: fadeIn 0.3s ease;
    }

    @keyframes fadeIn {
        from { opacity: 0; }
        to { opacity: 1; }
    }

    .modal-content {
        background: linear-gradient(135deg, #ffffff 0%, #f8f9fa 100%);
        margin: 5% auto;
        padding: 0;
        border-radius: 20px;
        width: 90%;
        max-width: 500px;
        box-shadow: 0 15px 40px rgba(0, 0, 0, 0.3);
        animation: slideIn 0.4s ease;
        overflow: hidden;
    }

    @keyframes slideIn {
        from { transform: translateY(-50px); opacity: 0; }
        to { transform: translateY(0); opacity: 1; }
    }

    .close-modal {
        color: #aaa;
        float: left;
        font-size: 28px;
        font-weight: bold;
        margin: 10px 15px;
        cursor: pointer;
        transition: color 0.3s;
    }

    .close-modal:hover {
        color: #e74c3c;
    }

    .modal-header {
        background: linear-gradient(135deg, #4b6cb7 0%, #182848 100%);
        color: white;
        padding: 25px 30px;
        text-align: center;
        position: relative;
    }

    .evening-mode .modal-header {
        background: linear-gradient(135deg, #354f52 0%, #2f3e46 100%);
    }

    .modal-header i {
        font-size: 3rem;
        margin-bottom: 15px;
        display: block;
        color: #FFD700;
        text-shadow: 0 2px 5px rgba(0, 0, 0, 0.3);
    }

    .modal-header h2 {
        margin: 0;
        font-size: 1.6rem;
        text-shadow: 1px 1px 3px rgba(0, 0, 0, 0.3);
    }

    .modal-body {
        padding: 30px;
        text-align: center;
    }

    .modal-body p {
        font-size: 1.2rem;
        line-height: 1.7;
        color: #2c3e50;
        margin-bottom: 25px;
    }

    .celebration-icons {
        display: flex;
        justify-content: center;
        gap: 20px;
        margin: 20px 0;
    }

    .celebration-icons i {
        font-size: 2rem;
        color: #4b6cb7;
        animation: bounce 2s infinite;
    }

    .evening-mode .celebration-icons i {
        color: #354f52;
    }

    .celebration-icons i:nth-child(2) {
        animation-delay: 0.2s;
        color: #e74c3c;
    }

    .celebration-icons i:nth-child(3) {
        animation-delay: 0.4s;
        color: #2ecc71;
    }

    .celebration-icons i:nth-child(4) {
        animation-delay: 0.6s;
        color: #f39c12;
    }

    @keyframes bounce {
        0%, 100% { transform: translateY(0); }
        50% { transform: translateY(-10px); }
    }

    .modal-footer {
        padding: 0 30px 30px;
        text-align: center;
    }

    .modal-btn {
        background: linear-gradient(135deg, #4b6cb7 0%, #182848 100%);
        color: white;
        border: none;
        padding: 12px 35px;
        border-radius: 50px;
        cursor: pointer;
        font-size: 1.1rem;
        font-weight: bold;
        transition: all 0.3s ease;
        box-shadow: 0 4px 15px rgba(75, 108, 183, 0.4);
    }

    .evening-mode .modal-btn {
        background: linear-gradient(135deg, #354f52 0%, #2f3e46 100%);
        box-shadow: 0 4px 15px rgba(53, 79, 82, 0.4);
    }

    .modal-btn:hover {
        transform: translateY(-3px);
        box-shadow: 0 7px 20px rgba(75, 108, 183, 0.6);
    }

    .evening-mode .modal-btn:hover {
        box-shadow: 0 7px 20px rgba(53, 79, 82, 0.6);
    }

    /* استعلامات الوسائط للتجاوب */
    @media (max-width: 768px) {
        .modal-content {
            width: 95%;
            margin: 10% auto;
        }
        
        .modal-header h2 {
            font-size: 1.4rem;
        }
        
        .modal-body p {
            font-size: 1.1rem;
        }
        
        .celebration-icons i {
            font-size: 1.7rem;
        }
    }
    /* تنسيقات زر إكمال الذكر */
    /* تنسيقات زر إكمال الذكر كأيقونة دائرية */
    /* تنسيقات زر إكمال الذكر كأيقونة دائرية */
    .complete-btn {
        background: linear-gradient(135deg, #2ecc71 0%, #27ae60 100%);
        color: white;
        border: none;
        padding: 8px;
        border-radius: 50%;
        cursor: pointer;
        font-size: 0.9rem;
        transition: all 0.3s ease;
        box-shadow: 0 3px 10px rgba(46, 204, 113, 0.3);
        width: 40px;
        height: 40px;
        display: flex;
        align-items: center;
        justify-content: center;
        position: relative;
    }

    .complete-btn:hover {
        background: linear-gradient(135deg, #27ae60 0%, #219653 100%);
        transform: scale(1.1);
        box-shadow: 0 5px 15px rgba(46, 204, 113, 0.4);
    }

    .complete-btn:active {
        transform: scale(0.95);
    }

    .complete-btn:disabled {
        background: linear-gradient(135deg, #95a5a6 0%, #7f8c8d 100%);
        cursor: not-allowed;
        transform: none;
        box-shadow: none;
    }

    .complete-btn:disabled:hover {
        transform: none;
    }

    /* تلميح عند المرور على الزر */
    .complete-btn::after {
        content: "إكمال الذكر";
        position: absolute;
        bottom: -35px;
        left: 50%;
        transform: translateX(-50%);
        background: #333;
        color: white;
        padding: 5px 10px;
        border-radius: 4px;
        font-size: 0.8rem;
        white-space: nowrap;
        opacity: 0;
        visibility: hidden;
        transition: all 0.3s ease;
        z-index: 10;
    }

    .complete-btn:hover::after {
        opacity: 1;
        visibility: visible;
    }

    .complete-btn:disabled::after {
        content: "تم الإكمال";
    }

    .evening-mode .complete-btn {
        background: linear-gradient(135deg, #3498db 0%, #2980b9 100%);
        box-shadow: 0 3px 10px rgba(52, 152, 219, 0.3);
    }

    .evening-mode .complete-btn:hover {
        background: linear-gradient(135deg, #2980b9 0%, #2471a3 100%);
        box-shadow: 0 5px 15px rgba(52, 152, 219, 0.4);
    }

    /* تحسين تنسيق action-buttons لاستيعاب الأيقونة الجديدة */
    .action-buttons {
        display: flex;
        gap: 8px;
        align-items: center;
    }

    .action-btn, .audio-btn, .complete-btn {
        background: none;
        border: 1px solid #ddd;
        color: #4b6cb7;
        padding: 8px;
        border-radius: 50%;
        cursor: pointer;
        font-size: 1rem;
        transition: all 0.3s ease;
        width: 40px;
        height: 40px;
        display: flex;
        align-items: center;
        justify-content: center;
    }

    .action-btn {
        color: #e74c3c;
        border-color: #e74c3c;
    }

    .audio-btn {
        color: #9b59b6;
        border-color: #9b59b6;
    }

    .complete-btn {
        color: white;
        border-color: #2ecc71;
        background: linear-gradient(135deg, #2ecc71 0%, #27ae60 100%);
    }

    .evening-mode .action-btn, 
    .evening-mode .audio-btn, 
    .evening-mode .complete-btn {
        color: white;
    }

    .evening-mode .action-btn {
        border-color: #e74c3c;
        background: linear-gradient(135deg, #e74c3c 0%, #c0392b 100%);
    }

    .evening-mode .audio-btn {
        border-color: #9b59b6;
        background: linear-gradient(135deg, #9b59b6 0%, #8e44ad 100%);
    }

    .evening-mode .complete-btn {
        border-color: #3498db;
        background: linear-gradient(135deg, #3498db 0%, #2980b9 100%);
    }

    .action-btn:hover, .audio-btn:hover, .complete-btn:hover {
        transform: scale(1.1);
    }

    .action-btn:active, .audio-btn:active, .complete-btn:active {
        transform: scale(0.95);
    }

    /* تحسين التنسيق للشاشات الصغيرة */
    @media (max-width: 480px) {
        .action-buttons {
            gap: 6px;
        }
        
        .action-btn, .audio-btn, .complete-btn {
            width: 35px;
            height: 35px;
            font-size: 0.9rem;
        }
        
        .complete-btn::after {
            font-size: 0.7rem;
            bottom: -30px;
            padding: 4px 8px;
        }
    }
    </style>
</head>
<body id="pageBody" class="morning-bg">
    <div class="container">
        <nav>
            <button class="nav-btn active-morning" id="morningBtn" onclick="showAdhkar('morning')">
                <i class="fas fa-sun"></i> أذكار الصباح
            </button>
            <button class="nav-btn" id="eveningBtn" onclick="showAdhkar('evening')">
                <i class="fas fa-moon"></i> أذكار المساء
            </button>
        </nav>

        <header id="mainHeader" class="header-morning">
            <h1 id="headerTitle">أذكار الصباح </h1>
            <p class="header-desc" id="headerDesc">ذكر الله نور القلب وطمأنينة الروح، ابدأ يومك بذكر الله وتحصّن بأذكار الصباح</p>
            <div class="time-indicator" id="timeIndicator">
                <i class="fas fa-clock"></i> الوقت المناسب: من الفجر إلى الشروق
            </div>
        </header>
        
        <div class="general-progress-box">
            <div class="progress-info">
                الإنجاز: <span id="completedCount">0</span> / <span id="totalCount">0</span>
            </div>
            <div class="general-progress-bar">
                <div class="general-progress" id="generalProgress" style="width: 0%"></div>
            </div>
            <button class="reset-all-btn" onclick="resetAllAdhkar()">إعادة تعيين الكل</button>
        </div>

        <div id="adhkarSection">
            <h2 class="section-title" id="startTitle"> </h2>
            <div class="adhkar-container" id="mainAdhkar">
                <!-- سيتم إضافة الأذكار هنا ديناميكياً -->
            </div>
            
            <h2 class="section-title" id="endTitle"> </h2>
        </div>
        
        <footer id="mainFooter" class="footer-morning">
            <div class="footer-content">
                <p id="footerText">اجعل ذكر الله رفيقاً لكل صباح 🌄</p>
                <p>قال تعالى: "فَاذْكُرُونِي أَذْكُرْكُمْ وَاشْكُرُوا لِي وَلَا تَكْفُرُونِ" (البقرة: 152)</p>
                <p id="lastResetInfo"></p>
            </div>
        </footer>
    </div>
    <!-- نافذة التهنئة -->
    <div id="congratulationModal" class="modal">
        <div class="modal-content">
            <span class="close-modal">&times;</span>
            <div class="modal-header">
                <i class="fas fa-trophy"></i>
                <h2 id="modalTitle">مبروك! لقد أكملت أذكار الصباح</h2>
            </div>
            <div class="modal-body">
                <p id="modalMessage">لقد أتممت جميع أذكار الصباح بنجاح، جعلك الله من الذاكرين الله كثيراً والذاكرات.</p>
                <div class="celebration-icons">
                    <i class="fas fa-star"></i>
                    <i class="fas fa-heart"></i>
                    <i class="fas fa-mosque"></i>
                    <i class="fas fa-star"></i>
                </div>
            </div>
            <div class="modal-footer">
                <button id="closeModalBtn" class="modal-btn">حسناً</button>
            </div>
        </div>
    </div>

    <script>
        let currentMode = null; 

        // دالة لجلب البيانات من localStorage
        function getSavedCounts() {
            const savedData = localStorage.getItem('adhkarCounts');
            return savedData ? JSON.parse(savedData) : { morning: {}, evening: {} };
        }

        // دالة لحفظ البيانات إلى localStorage
        function saveCounts(counts) {
            localStorage.setItem('adhkarCounts', JSON.stringify(counts));
        }

        // دالة للحصول على تاريخ آخر إعادة تعيين
        function getLastResetDate() {
            return localStorage.getItem('lastResetDate');
        }

        // دالة لحفظ تاريخ آخر إعادة تعيين
        function setLastResetDate(date) {
            localStorage.setItem('lastResetDate', date);
        }

        // دالة للتحقق من الحاجة إلى إعادة التعيين اليومي
        function checkForDailyReset() {
            const today = new Date().toDateString();
            const lastReset = getLastResetDate();
            
            if (lastReset !== today) {
                // إعادة تعيين جميع العدادات
                const savedCounts = getSavedCounts();
                savedCounts.morning = {};
                savedCounts.evening = {};
                saveCounts(savedCounts);
                setLastResetDate(today);
                
                // إعادة تحميل الصفحة إذا كان المستخدم في وضع الأذكار الحالي
                if (currentMode) {
                    renderAdhkar();
                }
                
                // تحديث معلومات آخر إعادة تعيين
                updateLastResetInfo();
            }
        }

        // دالة لتحديث معلومات آخر إعادة تعيين
        function updateLastResetInfo() {
            const lastReset = getLastResetDate();
            const resetInfo = document.getElementById('lastResetInfo');
            if (resetInfo && lastReset) {
                resetInfo.textContent = `آخر إعادة تعيين: ${lastReset}`;
            }
        }

        // دالة لتحديث مؤقت الأذكار
        function updateTimeIndicator() {
            const timeIndicator = document.getElementById('timeIndicator');
            if (!timeIndicator) return;
            
            const now = new Date();
            const hours = now.getHours();
            
            if (currentMode === 'morning') {
                if (hours >= 5 && hours < 12) {
                    timeIndicator.innerHTML = '<i class="fas fa-clock"></i> الوقت المناسب: من الفجر إلى الشروق';
                } else if (hours >= 12 && hours < 18) {
                    timeIndicator.innerHTML = '<i class="fas fa-exclamation-triangle"></i> الوقت الحالي: بعد الظهر (يستحب قراءة أذكار الصباح قبل الظهر)';
                } else {
                    timeIndicator.innerHTML = '<i class="fas fa-moon"></i> الوقت الحالي: المساء (يستحب قراءة أذكار الصباح في وقتها)';
                }
            } else if (currentMode === 'evening') {
                if (hours >= 17 && hours < 24) {
                    timeIndicator.innerHTML = '<i class="fas fa-clock"></i> الوقت المناسب: من العصر إلى المغرب';
                } else if (hours >= 0 && hours < 5) {
                    timeIndicator.innerHTML = '<i class="fas fa-exclamation-triangle"></i> الوقت الحالي: الليل (يستحب قراءة أذكار المساء في وقتها)';
                } else {
                    timeIndicator.innerHTML = '<i class="fas fa-sun"></i> الوقت الحالي: الصباح (يستحب قراءة أذكار المساء في وقتها)';
                }
            }
        }

        // دالة لإعادة تهيئة بيانات العدادات للأذكار عند تحميل الصفحة
        function initializeAdhkarData(adhkarArray, mode) {
            const savedCounts = getSavedCounts();
            adhkarArray.forEach((dhikr, index) => {
                const key = `${mode}-${index}`;
                dhikr.currentCount = savedCounts[mode] && savedCounts[mode][key] !== undefined ? savedCounts[mode][key] : 0;
            });
        }

        // البيانات (مع تهيئة العداد إلى 0 مبدئياً)
        const morningAdhkar = [
            { text: "الْحَمْدُ لِلَّهِ وَحْدَهُ، وَالصَّلاَةُ وَالسَّلاَمُ عَلَى مَنْ لاَ نَبِيَّ بَعْدَهُ", reference: "أبو داود, الألباني", count: 1, currentCount: 0 },
            { text: "أَعُوذُ بِاللَّهِ مِنَ الشَّيْطَانِ الرَّجِيمِ: اللَّهُ لاَ إِلَهَ إِلاَّ هُوَ الْحَيُّ الْقَيُّومُ، لاَ تَأْخُذُهُ سِنَةٌ وَلاَ نَوْمٌ، لَّهُ مَا فِي السَّمَاوَاتِ وَمَا فِي الأَرْضِ، مَن ذَا الَّذِي يَشْفَعُ عِنْدَهُ إِلاَّ بِإِذْنِهِ، يَعْلَمُ مَا بَيْنَ أَيْدِيهِمْ وَمَا خَلْفَهُمْ، وَلاَ يُحِيطُونَ بِشَيْءٍ مِّنْ عِلْمِهِ إِلاَّ بِمَا شَاء، وَسِعَ كُرْسِيُّهُ السَّمَاوَاتِ وَالأَرْضَ، وَلاَ يَئُودُهُ حِفْظُهُمَا، وَهُوَ الْعَلِيُّ الْعَظِيمُ.", reference: "آية الكرسي - البقرة 255", count: 1, currentCount: 0 },
            { text: "بِسْمِ اللَّهِ الرَّحْمَنِ الرَّحِيمِ: قُلْ هُوَ اللَّهُ أَحَدٌ، اللَّهُ الصَّمَدُ، لَمْ يَلِدْ وَلَمْ يُولَدْ، وَلَمْ يَكُنْ لَّهُ كُفُوًا أَحَدٌ.", reference: "سورة الإخلاص", count: 3, currentCount: 0 },
            { text: "بِسْمِ اللَّهِ الرَّحْمَنِ الرَّحِيمِ: قُلْ أَعُوذُ بِرَبِّ الْفَلَقِ، مِن شَرِّ مَا خَلَقَ، وَمِن شَرِّ غَاسِقٍ إِذَا وَقَبَ، وَمِن شَرِّ النَّفَّاثَاتِ فِي الْعُقَدِ، وَمِن شَرِّ حَاسِدٍ إِذَا حَسَدَ.", reference: "سورة الفلق", count: 3, currentCount: 0 },
            { text: "بِسْمِ اللَّهِ الرَّحْمَنِ الرَّحِيمِ: قُلْ أَعُوذُ بِرَبِّ النَّاسِ، مَلِكِ النَّاسِ، إِلَهِ النَّاسِ، مِن شَرِّ الْوَسْوَاسِ الْخَنَّاسِ، الَّذِي يُوَسْوِسُ فِي صُدُورِ النَّاسِ، مِنَ الْجِنَّةِ وَ النَّاسِ.", reference: "سورة الناس", count: 3, currentCount: 0 },
            { text: "أَصْبَحْنَا وَأَصْبَحَ الْمُلْكُ لِلَّهِ، وَالْحَمْدُ لِلَّهِ، لاَ إِلَهَ إِلاَّ اللَّهُ وَحْدَهُ لاَ شَرِيكَ لَهُ، لَهُ الْمُلْكُ وَلَهُ الْحَمْدُ وَهُوَ عَلَى كُلِّ شَيْءٍ قَدِيرٌ، رَبِّ أَسْأَلُكَ خَيْرَ مَا فِي هَذَا الْيَوْمِ وَخَيْرَ مَا بَعْدَهُ، وَأَعُوذُ بِكَ مِنْ شَرِّ مَا فِي هَذَا الْيَوْمِ وَشَرِّ مَا بَعْدَهُ، رَبِّ أَعُوذُ بِكَ مِنَ الْكَسَلِ وَسُوءِ الْكِبَرِ، رَبِّ أَعُوذُ بِكَ مِنْ عَذَابٍ فِي النَّارِ وَعَذَابٍ فِي الْقَبْرِ.", reference: "مسلم", count: 1, currentCount: 0 },
            { text: "اللَّهُمَّ بِكَ أَصْبَحْنَا، وَبِكَ أَمْسَيْنَا، وَبِكَ نَحْيَا، وَبِكَ نَمُوتُ، وَإِلَيْكَ النُّشُورُ.", reference: "الترمذي", count: 1, currentCount: 0 },
            { text: "سُبْحـانَ اللهِ وَبِحَمْـدِهِ.", reference: "مسلم", count: 100, currentCount: 0 },
            { text: "أسْتَغْفِرُ اللهَ وَأتُوبُ إلَيْهِ.", reference: "البخاري , مسلم", count: 100, currentCount: 0 },
            { text:"اللَّهُمَّ إِنِّي أَسْأَلُكَ الْعَفْوَ وَالْعَافِيَةَ فِي الدُّنْيَا وَالآخِرَةِ، اللَّهُمَّ إِنِّي أَسْأَلُكَ الْعَفْوَ وَالْعَافِيَةَ: فِي دِينِي وَدُنْيَايَ وَأَهْلِي، وَمَالِي، اللَّهُمَّ اسْتُرْ عَوْرَاتِي، وَآمِنْ رَوْعَاتِي، اللَّهُمَّ احْفَظْنِي مِنْ بَينِ يَدَيَّ، وَمِنْ خَلْفِي، وَعَنْ يَمِينِي، وَعَنْ شِمَالِي، وَمِنْ فَوْقِي، وَأَعُوذُ بِعَظَمَتِكَ أَنْ أُغْتَالَ مِنْ تَحْتِي", reference: "أبو داود, ابن ماجه", count: 1, currentCount: 0 },
            { text:"اللَّهُمَّ عَالِمَ الغَيْبِ وَالشَّهَادَةِ فَاطِرَ السَّمَوَاتِ وَالْأَرْضِ، رَبَّ كُلِّ شَيْءٍ وَمَلِيكَهُ، أَشْهَدُ أَنْ لاَ إِلَهَ إِلاَّ أَنْتَ، أَعُوذُ بِكَ مِنْ شَرِّ نَفْسِي، وَمِنْ شَرِّ الشَّيْطانِ وَشَرَكِهِ، وَأَنْ أَقْتَرِفَ عَلَى نَفْسِي سُوءًا، أَوْ أَجُرَّهُ إِلَى مُسْلِمٍ", reference: "الترمذي", count: 1, currentCount: 0 },
            { text: "بسْمِ اللهِ الَّذِي لاَ يَضُرُّ مَعَ اسْمِهِ شَيْءٌ فِي الأَرْضِ وَلاَ فِي السَّمَاءِ وَهُوَ السَّمِيعُ الْعَلِيمُ", reference: "الترمذي وأبو داود وابن ماجه", count: 3, currentCount: 0 },
            { text: "رَضِيتُ بِاللهِ رَبًّا، وَبِالإسْلامِ دِينًا، وَبِمُحَمَّدٍ صَلَّى اللهُ عَلَيْهِ وَسَلَّمَ نَبِيًّا", reference: "أحمد والنسائي وأبو داود والترمذي ", count: 3, currentCount: 0 },
            { text: "يا حَيُّ يَا قَيُّومُ، بِرَحْمَتِكَ أَسْتَغِيثُ، أَصْلِحْ لِي شَأْنِي كُلَّهُ، وَلا تَكِلْنِي إِلَى نَفْسِي طَرْفَةَ عَيْنٍ", reference: "الحاكم وصححه ، ووافقة الذهبي", count: 1, currentCount: 0 },
            { text: "أَصْبَحْنَا وَأَصْبَحَ الْمُلْكُ لِلَّهِ رَبِّ الْعَالَمِينَ، اللَّهُمَّ إِنِّي أَسْأَلُكَ خَيْرَ هَذَا الْيَوْمِ: فَتْحَهُ، وَنَصْرَهُ، وَنورَهُ، وَبَرَكَتَهُ، وَهُدَاهُ، وَأَعُوذُ بِكَ مِنْ شَرِّ مَا فِيهِ وَشَرِّ مَا بَعْدَهُ", reference: "أبو داود", count: 1, currentCount: 0 },
            { text: "اللَّهُمَّ أَنْتَ رَبِّي لا إِلَهَ إِلا أَنْتَ، خَلَقْتَنِي وَأَنَا عَبْدُكَ، وَأَنَا عَلَى عَهْدِكَ وَوَعْدِكَ مَا اسْتَطَعْتُ، أَعُوذُ بِكَ مِنْ شَرِّ مَا صَنَعْتُ، أَبُوءُ لَكَ بِنِعْمَتِكَ عَلَيَّ، وَأَبُوءُ بِذَنْبِي فَاغْفِرْ لِي فَإِنَّهُ لا يَغْفِرُ الذُّنُوبَ إِلا أَنْتَ.", reference: "البخاري", count: 1, currentCount: 0 },
            { text: "اللَّهُمَّ إِنِّي أَصْبَحْتُ أُشْهِدُكَ وَأُشْهِدُ حَمَلَةَ عَرْشِكَ، وَمَلَائِكَتَكَ وَجَمِيعَ خَلْقِكَ، أَنَّكَ أَنْتَ اللَّهُ لَا إِلَهَ إِلَّا أَنْتَ وَحْدَكَ لَا شَرِيكَ لَكَ، وَأَنَّ مُحَمَّدًا عَبْدُكَ وَرَسُولُكَ.", reference: "أبو داود", count: 4, currentCount: 0 },
            { text: "اللَّهُمَّ مَا أَصْبَحَ بِي مِنْ نِعْمَةٍ أَوْ بِأَحَدٍ مِنْ خَلْقِكَ فَمِنْكَ وَحْدَكَ لَا شَرِيكَ لَكَ فَلَكَ الْحَمْدُ وَلَكَ الشُّكْرُ.", reference: "أبو داود", count: 1, currentCount: 0 },
            { text: "حَسْبِيَ اللَّهُ لَا إِلَهَ إِلَّا هُوَ، عَلَيْهِ تَوَكَّلْتُ، وَهُوَ رَبُّ الْعَرْشِ الْعَظِيمِ.", reference: "أبو داود", count: 7, currentCount: 0 },
            { text: "اللَّهُمَّ عَافِنِي فِي بَدَنِي، اللَّهُمَّ عَافِنِي فِي سَمْعِي، اللَّهُمَّ عَافِنِي فِي بَصَرِي، لَا إِلَهَ إِلَّا أَنْتَ. اللَّهُمَّ إِنِّي أَعُوذُ بِكَ مِنَ الْكُفْرِ وَالْفَقْرِ، وَأَعُوذُ بِكَ مِنْ عَذَابِ الْقَبْرِ، لَا إِلَهَ إِلَّا أَنْتَ.", reference: "أبو داود", count: 3, currentCount: 0 },
            { text: "أَصْبَحْنَا عَلَى فِطْرَةِ الإِسْلَامِ، وَعَلَى كَلِمَةِ الإِخْلَاصِ، وَعَلَى دِينِ نَبِيِّنَا مُحَمَّدٍ صَلَّى اللَّهُ عَلَيْهِ وَسَلَّمَ، وَعَلَى مِلَّةِ أَبِينَا إِبْرَاهِيمَ حَنِيفًا مُسْلِمًا وَمَا كَانَ مِنَ الْمُشْرِكِينَ.", reference: "أحمد", count: 1, currentCount: 0 },
            { text: "سُبْحَانَ اللَّهِ وَبِحَمْدِهِ، عَدَدَ خَلْقِهِ، وَرِضَا نَفْسِهِ، وَزِينَةَ عَرْشِهِ، وَمِدَادَ كَلِمَاتِهِ.", reference: "مسلم", count: 3, currentCount: 0 },
            { text: "اللَّهُمَّ إِنِّي أَسْأَلُكَ عِلْمًا نَافِعًا، وَرِزْقًا طَيِّبًا، وَعَمَلًا مُتَقَبَّلًا.", reference: "ابن ماجه", count: 1, currentCount: 0 },
            { text: "لا إِلَهَ إِلَّا اللَّهُ وَحْدَهُ لا شَرِيكَ لَهُ، لَهُ الْمُلْكُ وَلَهُ الْحَمْدُ وَهُوَ عَلَى كُلِّ شَيْءٍ قَدِيرٌ.", reference: "النسائي و أبو داود ابن ماجه وأحمد", count: 10, currentCount: 0 },
            { text: "لا إِلَهَ إِلَّا اللَّهُ وَحْدَهُ لا شَرِيكَ لَهُ، لَهُ الْمُلْكُ وَلَهُ الْحَمْدُ وَهُوَ عَلَى كُلِّ شَيْءٍ قَدِيرٌ.", reference: "البخاري ومسلم", count: 100, currentCount: 0 },
            { text: "اللهم صل وسلم وبارك على نبينا محمد", reference: "صحيح الترغيب والترهيب", count: 10, currentCount: 0 }
        ];

        // بيانات أذكار المساء
        const eveningAdhkar = [
            { text: "الْحَمْدُ لِلَّهِ وَحْدَهُ، وَالصَّلاَةُ وَالسَّلاَمُ عَلَى مَنْ لاَ نَبِيَّ بَعْدَهُ", reference: "أبو داود, الألباني", count: 1, currentCount: 0 },
            { text: "أَعُوذُ بِاللَّهِ مِنَ الشَّيْطَانِ الرَّجِيمِ: اللَّهُ لاَ إِلَهَ إِلاَّ هُوَ الْحَيُّ الْقَيُّومُ، لاَ تَأْخُذُهُ سِنَةٌ وَلاَ نَوْمٌ، لَّهُ مَا فِي السَّمَاوَاتِ وَمَا فِي الأَرْضِ، مَن ذَا الَّذِي يَشْفَعُ عِنْدَهُ إِلاَّ بِإِذْنِهِ، يَعْلَمُ مَا بَيْنَ أَيْدِيهِمْ وَمَا خَلْفَهُمْ، وَلاَ يُحِيطُونَ بِشَيْءٍ مِّنْ عِلْمِهِ إِلاَّ بِمَا شَاء، وَسِعَ كُرْسِيُّهُ السَّمَاوَاتِ وَالأَرْضَ، وَلاَ يَئُودُهُ حِفْظُهُمَا، وَهُوَ الْعَلِيُّ الْعَظِيمُ.", reference: "آية الكرسي - البقرة 255", count: 1, currentCount: 0 },
            { text: "بِسْمِ اللَّهِ الرَّحْمَنِ الرَّحِيمِ: قُلْ هُوَ اللَّهُ أَحَدٌ، اللَّهُ الصَّمَدُ، لَمْ يَلِدْ وَلَمْ يُولَدْ، وَلَمْ يَكُنْ لَّهُ كُفُوًا أَحَدٌ.", reference: "سورة الإخلاص", count: 3, currentCount: 0 },
            { text: "بِسْمِ اللَّهِ الرَّحْمَنِ الرَّحِيمِ: قُلْ أَعُوذُ بِرَبِّ الْفَلَقِ، مِن شَرِّ مَا خَلَقَ، وَمِن شَرِّ غَاسِقٍ إِذَا وَوَقَبَ، وَمِن شَرِّ النَّفَّاثَاتِ فِي الْعُقَدِ، وَمِن شَرِّ حَاسِدٍ إِذَا حَسَدَ.", reference: "سورة الفلق", count: 3, currentCount: 0 },
            { text: "بِسْمِ اللَّهِ الرَّحْمَنِ الرَّحِيمِ: قُلْ أَعُوذُ بِرَبِّ النَّاسِ، مَلِكِ النَّاسِ، إِلَهِ النَّاسِ، مِن شَرِّ الْوَسْوَاسِ الْخَنَّاسِ، الَّذِي يُوَسْوِسُ فِي صُدُورِ النَّاسِ، مِنَ الْجِنَّةِ وَ النَّاسِ.", reference: "سورة الناس", count: 3, currentCount: 0 },
            { text: "أَمْسَيْنَا وَأَمْسَى الْمُلْكُ لِلَّهِ، وَالْحَمْدُ لِلَّهِ، لاَ إِلَهَ إِلاَّ اللَّهُ وَحْدَهُ لاَ شَرِيكَ لَهُ، لَهُ الْمُلْكُ وَلَهُ الْحَمْدُ وَهُوَ عَلَى كُلِّ شَيْءٍ قَدِيرٌ، رَبِّ أَسْأَلُكَ خَيْرَ مَا فِي هَذِهِ اللَّيْلَةِ وَخَيْرَ مَا بَعْدَهَا، وَأَعُوذُ بِكَ مِنْ شَرِّ مَا فِي هَذِهِ اللَّيْلَةِ وَشَرِّ مَا بَعْدَهَا، رَبِّ أَعُوذُ بِكَ مِنَ الْكَسَلِ وَسُوءِ الْكِبَرِ، رَبِّ أَعُوذُ بِكَ مِنْ عَذَابٍ فِي النَّارِ وَعَذَابٍ فِي الْقَبْرِ.", reference: "مسلم", count: 1, currentCount: 0 },
            { text: "اللَّهُمَّ بِكَ أَمْسَيْنَا، وَبِكَ أَصْبَحْنَا، وَبِكَ نَحْيَا، وَبِكَ نَمُوتُ، وَإِلَيْكَ الْمَصِيرُ.", reference: "الترمذي", count: 1, currentCount: 0 },
            { text: "اللَّهُمَّ أَنْتَ رَبِّي لا إِلَهَ إِلا أَنْتَ، خَلَقْتَنِي وَأَنَا عَبْدُكَ، وَأَنَا عَلَى عَهْدِكَ وَوَعْدِكَ مَا اسْتَطَعْتُ، أَعُوذُ بِكَ مِنْ شَرِّ مَا صَنَعْتُ، أَبُوءُ لَكَ بِنِعْمَتِكَ عَلَيَّ، وَأَبُوءُ بِذَنْبِي فَاغْفِرْ لِي فَإِنَّهُ لا يَغْفِرُ الذُّنُوبَ إِلا أَنْتَ.", reference: "البخاري", count: 1, currentCount: 0 },
            { text: "اللَّهُمَّ إِنِّي أَمْسَيْتُ أُشْهِدُكَ وَأُشْهِدُ حَمَلَةَ عَرْشِكَ، وَمَلَائِكَتَكَ وَجَمِيعَ خَلْقِكَ، أَنَّكَ أَنْتَ اللَّهُ لَا إِلَهَ إِلَّا أَنْتَ وَحْدَكَ لَا شَرِيكَ لَكَ، وَأَنَّ مُحَمَّدًا عَبْدُكَ وَرَسُولُكَ.", reference: "أبو داود", count: 4, currentCount: 0 },
            { text: "اللَّهُمَّ مَا أَمْسَى بِي مِنْ نِعْمَةٍ أَوْ بِأَحَدٍ مِنْ خَلْقِكَ فَمِنْكَ وَحْدَكَ لَا شَرِيكَ لَكَ فَلَكَ الْحَمْدُ وَلَكَ الشُّكْرُ.", reference: "أبو داود", count: 1, currentCount: 0 },
            { text: "اللَّهُمَّ إِنِّي أَسْأَلُكَ الْعَفْوَ وَالْعَافِيَةَ فِي الدُّنْيَا وَالآخِرَةِ، اللَّهُمَّ إِنِّي أَسْأَلُكَ الْعَفْوَ وَالْعَافِيَةَ: فِي دِينِي وَدُنْيَايَ وَأَهْلِي، وَمَالِي، اللَّهُمَّ اسْتُرْ عَوْرَاتِي، وَآمِنْ رَوْعَاتِي، اللَّهُمَّ احْفَظْنِي مِنْ بَينِ يَدَيَّ، وَمِنْ خَلْفِي، وَعَنْ يَمِينِي، وَعَنْ شِمَالِي، وَمِنْ فَوْقِي، وَأَعُوذُ بِعَظَمَتِكَ أَنْ أُغْتَالَ مِنْ تَحْتِي", reference: "أبو داود, ابن ماجه", count: 1, currentCount: 0 },
            { text: "حَسْبِيَ اللَّهُ لَا إِلَهَ إِلَّا هُوَ، عَلَيْهِ تَوَكَّلْتُ، وَهُوَ رَبُّ الْعَرْشِ الْعَظِيمِ.", reference: "أبو داود", count: 7, currentCount: 0 },
            { text: "اللَّهُمَّ عَالِمَ الغَيْبِ وَالشَّهَادَةِ فَاطِرَ السَّمَوَاتِ وَالْأَرْضِ، رَبَّ كُلِّ شَيْءٍ وَمَلِيكَهُ، أَشْهَدُ أَنْ لاَ إِلَهَ إِلاَّ أَنْتَ، أَعُوذُ بِكَ مِنْ شَرِّ نَفْسِي، وَمِنْ شَرِّ الشَّيْطانِ وَشَرَكِهِ، وَأَنْ أَقْتَرِفَ عَلَى نَفْسِي سُوءًا، أَوْ أَجُرَّهُ إِلَى مُسْلِمٍ", reference: "الترمذي", count: 1, currentCount: 0 },
            { text: "بسْمِ اللهِ الَّذِي لاَ يَضُرُّ مَعَ اسْمِهِ شَيْءٌ فِي الأَرْضِ وَلاَ فِي السَّمَاءِ وَهُوَ السَّمِيعُ الْعَلِيمُ", reference: "الترمذي وأبو داود وابن ماجه", count: 3, currentCount: 0 },
            { text: "رَضِيتُ بِاللهِ رَبًّا، وَبِالإسْلامِ دِينًا، وَبِمُحَمَّدٍ صَلَّى اللهُ عَلَيْهِ وَسَلَّمَ نَبِيًّا", reference: "أحمد والنسائي وأبو داود والترمذي ", count: 3, currentCount: 0 },
            { text: "يَا حَيُّ يَا قَيُّومُ، بِرَحْمَتِكَ أَسْتَغِيثُ، أَصْلِحْ لِي شَأْنِي كُلَّهُ، وَلا تَكِلْنِي إِلَى نَفْسِي طَرْفَةَ عَيْنٍ", reference: "الحاكم وصححه ، ووافقة الذهبي", count: 1, currentCount: 0 },
            { text: "اللَّهُمَّ عَافِنِي فِي بَدَنِي، اللَّهُمَّ عَافِنِي فِي سَمْعِي، اللَّهُمَّ عَافِنِي فِي بَصَرِي، لَا إِلَهَ إِلَّا أَنْتَ. اللَّهُمَّ إِنِّي أَعُوذُ بِكَ مِنَ الْكُفْرِ وَالْفَقْرِ، وَأَعُوذُ بِكَ مِنْ عَذَابِ الْقَبْرِ، لَا إِلَهَ إِلَّا أَنْتَ.", reference: "أبو داود", count: 3, currentCount: 0 },
            { text: "أَمْسَيْنَا عَلَى فِطْرَةِ الإِسْلَامِ، وَعَلَى كَلِمَةِ الإِخْلَاصِ، وَعَلَى دِينِ نَبِيِّنَا مُحَمَّدٍ صَلَّى اللَّهُ عَلَيْهِ وَسَلَّمَ، وَعَلَى مِلَّةِ أَبِينَا إِبْرَاهِيمَ حَنِيفًا مُسْلِمًا وَمَا كَانَ مِنَ الْمُشْرِكِينَ.", reference: "أحمد", count: 1, currentCount: 0 },
            { text: "أَمْسَيْنَا وَأَمْسَى الْمُلْكُ لِلَّهِ رَبِّ الْعَالَمِينَ، اللَّهُمَّ إِنِّي أَسْأَلُكَ خَيْرَ هَذَهِ الليْلَة: فَتْحَهَا، وَنَصْرَهَا، وَنورَهَا، وَبَرَكَتَهَا، وَهُدَاهَا، وَأَعُوذُ بِكَ مِنْ شَرِّ مَا فِيهِا وَشَرِّ مَا بَعْدَهَا", reference: "أبو داود", count: 1, currentCount: 0 },
            { text: "سُبْحـانَ اللهِ وَبِحَمْـدِهِ.", reference: "مسلم", count: 100, currentCount: 0 },
            { text: "أسْتَغْفِرُ اللهَ وَأتُوبُ إلَيْهِ.", reference: "البخاري , مسلم", count: 100, currentCount: 0 },
            { text: "لا إِلَهَ إِلَّا اللَّهُ وَحْدَهُ لا شَرِيكَ لَهُ، لَهُ الْمُلْكُ وَلَهُ الْحَمْدُ وَهُوَ عَلَى كُلِّ شَيْءٍ قَدِيرٌ.", reference: "البخاري ومسلم", count: 10, currentCount: 0 },
            { text: "أَعُوذُ بِكَلِمَاتِ اللَّهِ التَّامَّاتِ مِنْ شَرِّ مَا خَلَقَ.", reference: "مسلم", count: 3, currentCount: 0 },
            { text: "اللهم صل وسلم وبارك على نبينا محمد", reference: "صحيح الترغيب والترهيب", count: 10, currentCount: 0 }
        ];

        // تهيئة البيانات عند تحميل الصفحة
        initializeAdhkarData(morningAdhkar, 'morning');
        initializeAdhkarData(eveningAdhkar, 'evening');

        // دالة لزيادة العداد
        function increaseCount(index, mode) {
            const adhkarArray = mode === 'morning' ? morningAdhkar : eveningAdhkar;
            const dhikr = adhkarArray[index];
            
            if (dhikr.currentCount < dhikr.count) {
                dhikr.currentCount++;
                
                // حفظ العدادات في localStorage
                const savedCounts = getSavedCounts();
                const key = `${mode}-${index}`;
                if (!savedCounts[mode]) savedCounts[mode] = {};
                savedCounts[mode][key] = dhikr.currentCount;
                saveCounts(savedCounts);
                
                // إضافة تأثير النبض
                const button = document.querySelector(`button[onclick="increaseCount(${index}, '${mode}')"]`);
                if (button) {
                    button.classList.add('pulse');
                    setTimeout(() => {
                        button.classList.remove('pulse');
                    }, 600);
                }
                
                // تحديث العرض
                updateCounterDisplay(index, mode);
                updateGeneralProgress(mode);
            }
        }

        // دالة لتحديث عرض العداد
       // دالة لتحديث عرض العداد
        function updateCounterDisplay(index, mode) {
            const adhkarArray = mode === 'morning' ? morningAdhkar : eveningAdhkar;
            const dhikr = adhkarArray[index];
            const countDisplay = document.getElementById(`count-${mode}-${index}`);
            const progressBar = document.getElementById(`progress-${mode}-${index}`);
            const card = document.getElementById(`card-${mode}-${index}`);
            const completeBtn = document.querySelector(`button[onclick="completeDhikr(${index}, '${mode}')"]`);
            
            if (countDisplay) {
                countDisplay.textContent = dhikr.currentCount;
            }
            
            if (progressBar) {
                const progressPercent = (dhikr.currentCount / dhikr.count) * 100;
                progressBar.style.width = `${progressPercent}%`;
            }
            
            if (card) {
                if (dhikr.currentCount >= dhikr.count) {
                    card.classList.add('completed');
                } else {
                    card.classList.remove('completed');
                }
            }
            
            if (completeBtn) {
                if (dhikr.currentCount >= dhikr.count) {
                    completeBtn.disabled = true;
                    completeBtn.classList.add('completed');
                } else {
                    completeBtn.disabled = false;
                    completeBtn.classList.remove('completed');
                }
            }
        }
        // دالة لتحديث التقدم العام
        // دالة لتحديث التقدم العام
        function updateGeneralProgress(mode) {
            const adhkarArray = mode === 'morning' ? morningAdhkar : eveningAdhkar;
            let totalCount = 0;
            let completedCount = 0;
            let allCompleted = true;
            
            adhkarArray.forEach(dhikr => {
                totalCount += dhikr.count;
                completedCount += dhikr.currentCount;
                
                // التحقق مما إذا كان كل ذكر مكتملاً
                if (dhikr.currentCount < dhikr.count) {
                    allCompleted = false;
                }
            });
            
            const progressPercent = (completedCount / totalCount) * 100;
            const generalProgress = document.getElementById('generalProgress');
            const completedCountElement = document.getElementById('completedCount');
            const totalCountElement = document.getElementById('totalCount');
            
            if (generalProgress) {
                generalProgress.style.width = `${progressPercent}%`;
            }
            
            if (completedCountElement) {
                completedCountElement.textContent = completedCount;
            }
            
            if (totalCountElement) {
                totalCountElement.textContent = totalCount;
            }
            
            // التحقق مما إذا تم إكمال جميع الأذكار وعرض رسالة التهنئة
            if (allCompleted && completedCount > 0) {
                // استخدام setTimeout لتأخير عرض الرسالة حتى ينتهي التحديث
                setTimeout(() => {
                    showCongratulationModal(mode);
                }, 500);
            }
        }

        // دالة لإعادة تعيين العداد
        function resetCount(index, mode) {
            const adhkarArray = mode === 'morning' ? morningAdhkar : eveningAdhkar;
            const dhikr = adhkarArray[index];
            dhikr.currentCount = 0;
            
            // تحديث localStorage
            const savedCounts = getSavedCounts();
            const key = `${mode}-${index}`;
            if (savedCounts[mode]) {
                savedCounts[mode][key] = 0;
                saveCounts(savedCounts);
            }
            
            // تحديث العرض
            updateCounterDisplay(index, mode);
            updateGeneralProgress(mode);
        }

        // دالة لإعادة تعيين جميع العدادات
        function resetAllAdhkar() {
            if (confirm('هل أنت متأكد من إعادة تعيين جميع العدادات؟')) {
                const mode = currentMode;
                const adhkarArray = mode === 'morning' ? morningAdhkar : eveningAdhkar;
                
                adhkarArray.forEach((dhikr, index) => {
                    dhikr.currentCount = 0;
                    
                    // تحديث localStorage
                    const savedCounts = getSavedCounts();
                    const key = `${mode}-${index}`;
                    if (savedCounts[mode]) {
                        savedCounts[mode][key] = 0;
                    }
                });
                
                saveCounts(getSavedCounts());
                renderAdhkar();
            }
        }

        // دالة لعرض الأذكار
        function showAdhkar(mode) {
            currentMode = mode;
            
            // تحديث الأزرار النشطة
            document.getElementById('morningBtn').classList.remove('active-morning');
            document.getElementById('eveningBtn').classList.remove('active-evening');
            
            if (mode === 'morning') {
                document.getElementById('morningBtn').classList.add('active-morning');
                document.body.classList.remove('evening-mode');
                document.body.classList.add('morning-bg');
                document.getElementById('mainHeader').className = 'header-morning';
                document.getElementById('mainFooter').className = 'footer-morning';
                document.getElementById('pageTitle').textContent = 'أذكار الصباح  ';
                document.getElementById('headerTitle').textContent = 'أذكار الصباح  ';
                document.getElementById('headerDesc').textContent = 'ذكر الله نور القلب وطمأنينة الروح، ابدأ يومك بذكر الله وتحصّن بأذكار الصباح';
                document.getElementById('footerText').textContent = 'اجعل ذكر الله رفيقاً لكل صباح 🌄';
            } else {
                document.getElementById('eveningBtn').classList.add('active-evening');
                document.body.classList.add('evening-mode');
                document.body.classList.remove('morning-bg');
                document.getElementById('mainHeader').className = 'header-evening';
                document.getElementById('mainFooter').className = 'footer-evening';
                document.getElementById('pageTitle').textContent = 'أذكار المساء  ';
                document.getElementById('headerTitle').textContent = 'أذكار المساء  ';
                document.getElementById('headerDesc').textContent = 'اختِم يومك بذكر الله، احمِ نفسك من كل سوء وادخل في رعاية الله وحفظه';
                document.getElementById('footerText').textContent = 'اختِم نهارك بذكر الله واستعد لليل 🌙';
            }
            
            renderAdhkar();
            updateTimeIndicator();
        }

        // دالة لعرض الأذكار في الصفحة
        // دالة لعرض الأذكار في الصفحة
        // دالة لعرض الأذكار في الصفحة
        function renderAdhkar() {
            const adhkarArray = currentMode === 'morning' ? morningAdhkar : eveningAdhkar;
            const adhkarContainer = document.getElementById('mainAdhkar');
            
            let html = '';
            
            adhkarArray.forEach((dhikr, index) => {
                const progressPercent = (dhikr.currentCount / dhikr.count) * 100;
                const isCompleted = dhikr.currentCount >= dhikr.count;
                
                html += `
                <div class="dhikr-card ${isCompleted ? 'completed' : ''}" id="card-${currentMode}-${index}">
                    <div class="dhikr-header">
                        <div class="dhikr-number">${index + 1}</div>
                        <div class="action-buttons">
                            <button class="complete-btn" onclick="completeDhikr(${index}, '${currentMode}')" 
                                    ${isCompleted ? 'disabled' : ''} title="إكمال الذكر">
                                <i class="fas fa-check"></i>
                            </button>
                            <button class="action-btn" onclick="resetCount(${index}, '${currentMode}')" title="إعادة تعيين">
                                <i class="fas fa-redo"></i>
                            </button>
                            <button class="audio-btn" onclick="playAudio(${index}, '${currentMode}')" title="تشغيل الصوت">
                                <i class="fas fa-volume-up"></i>
                            </button>
                        </div>
                    </div>
                    
                    <div class="dhikr-text">${dhikr.text}</div>
                    <div class="dhikr-reference">${dhikr.reference}</div>
                    
                    <div class="progress-bar">
                        <div class="progress" id="progress-${currentMode}-${index}" style="width: ${progressPercent}%"></div>
                    </div>
                    
                    <div class="counter">
                        <div class="counter-info">
                            <div class="total-count">${dhikr.count} ×</div>
                            <div class="count-display" id="count-${currentMode}-${index}">${dhikr.currentCount}</div>
                        </div>
                        <button class="count-btn-islamic" onclick="increaseCount(${index}, '${currentMode}')" title="زيادة العداد">
                        </button>
                    </div>
                    
                    <div class="completed-text">
                        <i class="fas fa-check-circle"></i> تم إكمال الذكر
                    </div>
                </div>
                `;
            });
            
            adhkarContainer.innerHTML = html;
            updateGeneralProgress(currentMode);
        }
        // دالة لتشغيل الصوت (يمكن تطويرها لاحقاً)
        function playAudio(index, mode) {
            // يمكن إضافة وظيفة تشغيل الصوت هنا في المستقبل
            alert('سيتم إضافة وظيفة تشغيل الصوت في التحديثات القادمة إن شاء الله');
        }

        // تهيئة الصفحة عند التحميل
        window.onload = function() {
            // التحقق من إعادة التعيين اليومي
            checkForDailyReset();
            
            // عرض أذكار الصباح افتراضياً
            showAdhkar('morning');
            
            // تحديث معلومات آخر إعادة تعيين
            updateLastResetInfo();
            
            // تحديث مؤقت الأذكار كل دقيقة
            setInterval(updateTimeIndicator, 60000);
            
            // التحقق من إعادة التعيين كل ساعة
            setInterval(checkForDailyReset, 3600000);
        };
        // دالة لإظهار رسالة التهنئة
        function showCongratulationModal(mode) {
            const modal = document.getElementById('congratulationModal');
            const modalTitle = document.getElementById('modalTitle');
            const modalMessage = document.getElementById('modalMessage');
            
            if (mode === 'morning') {
                modalTitle.textContent = 'مبروك! لقد أكملت أذكار الصباح';
                modalMessage.textContent = 'لقد أتممت جميع أذكار الصباح بنجاح، جعلك الله من الذاكرين الله كثيراً والذاكرات. بارك الله في يومك وجعله مليئاً بالخير والبركة.';
            } else {
                modalTitle.textContent = 'مبروك! لقد أكملت أذكار المساء';
                modalMessage.textContent = 'لقد أتممت جميع أذكار المساء بنجاح، أسأل الله أن يحفظك في نومك ويجعلك في ذمته وحرزه. تقبل الله منا ومنك صالح الأعمال.';
            }
            
            modal.style.display = 'block';
            
            // إضافة تأثيرات صوتية لو أردت في المستقبل
            // playCelebrationSound();
        }

        // دالة لإغلاق نافذة التهنئة
        function closeCongratulationModal() {
            const modal = document.getElementById('congratulationModal');
            modal.style.display = 'none';
        }

        // إضافة مستمعي الأحداث للنافذة
        document.addEventListener('DOMContentLoaded', function() {
            const modal = document.getElementById('congratulationModal');
            const closeBtn = document.querySelector('.close-modal');
            const closeModalBtn = document.getElementById('closeModalBtn');
            
            if (closeBtn) {
                closeBtn.addEventListener('click', closeCongratulationModal);
            }
            
            if (closeModalBtn) {
                closeModalBtn.addEventListener('click', closeCongratulationModal);
            }
            
            // إغلاق النافذة عند النقر خارجها
            window.addEventListener('click', function(event) {
                if (event.target === modal) {
                    closeCongratulationModal();
                }
            });
        });
        // دالة لإكمال الذكر كاملاً
        // دالة لإكمال الذكر كاملاً
        function completeDhikr(index, mode) {
            const adhkarArray = mode === 'morning' ? morningAdhkar : eveningAdhkar;
            const dhikr = adhkarArray[index];
            
            if (dhikr.currentCount < dhikr.count) {
                // حفظ القيمة السابقة للعودة إليها إذا ألغى المستخدم
                const previousCount = dhikr.currentCount;
                
                // تعيين العداد إلى القيمة المستهدفة
                dhikr.currentCount = dhikr.count;
                
                // عرض تأكيد للمستخدم
                if (confirm(`هل تريد إكمال هذا الذكر كاملاً؟\n\n${dhikr.text}\n\nسيتم تعيين العداد من ${previousCount} إلى ${dhikr.count}`)) {
                    // حفظ العدادات في localStorage
                    const savedCounts = getSavedCounts();
                    const key = `${mode}-${index}`;
                    if (!savedCounts[mode]) savedCounts[mode] = {};
                    savedCounts[mode][key] = dhikr.currentCount;
                    saveCounts(savedCounts);
                    
                    // تحديث العرض
                    updateCounterDisplay(index, mode);
                    updateGeneralProgress(mode);
                    
                    // تأثير مرئي للبطاقة المكتملة
                    const card = document.getElementById(`card-${mode}-${index}`);
                    const completeBtn = document.querySelector(`button[onclick="completeDhikr(${index}, '${mode}')"]`);
                    
                    if (card) {
                        card.classList.add('completed');
                        card.style.transform = 'scale(1.02)';
                        setTimeout(() => {
                            card.style.transform = 'scale(1)';
                        }, 300);
                    }
                    
                    if (completeBtn) {
                        completeBtn.disabled = true;
                        // تأثير النبض للأيقونة
                        completeBtn.classList.add('pulse');
                        setTimeout(() => {
                            completeBtn.classList.remove('pulse');
                        }, 600);
                    }
                } else {
                    // إرجاع القيمة السابقة إذا ألغى المستخدم
                    dhikr.currentCount = previousCount;
                }
            }
        }
    </script>
</body>
</html>